<html>

<head>
    <title> Pong </title>
    <style>
        .paddle {
            height: 50px;
            width: 5px;
            background-color: black;
            position: absolute;
        }

        #ball {
            position: absolute;
            background-color: black;
            width: 6px;
            height: 6px;
            border-radius: 3px;
        }
    </style>

</head>

<body>
    <div id="paddleLeft" class="paddle"></div>
    <div id="ball"></div>
    <div id="paddleRight" class="paddle"></div>
    <script>
        let paddleLeft = document.getElementById("paddleLeft");
        let paddleRight = document.getElementById("paddleRight");
        let ball = document.getElementById("ball");
        let paddleLeftX = 5;
        let paddleLeftY = 5;
        let paddleRightX = 800;
        let paddleRightY = 5;
        let ballX = 400;
        let ballY = 5;
        paddleLeft.style.left = `${paddleLeftX}px`;
        paddleRight.style.left = `${paddleRightX}px`;

        document.onkeydown = function (ev) {
            if (ev.key == "ArrowDown") {
                paddleLeftY += 10;
            }
            if (ev.key == "ArrowUp") {
                paddleLeftY -= 10;
            }
            if (ev.key == "w") {
                paddleRightY -= 10;
            }
            if (ev.key == "s") {
                paddleRightY += 10;
            }
        }
        let ballDirectionY = 0;
        let ballDirectionX = 1;
        function playGame() {

            if (ballX > paddleRightX) {
                ballDirectionX = -1;
            }
            if (ballX < paddleLeftX) {
                ballDirectionX = 1;
            }
            paddleLeft.style.top = `${paddleLeftY}px`;
            paddleRight.style.top = `${paddleRightY}px`;
            ballY += ballDirectionY;
            ball.style.top = `${ballY}px`;
            ballX += ballDirectionX;
            ball.style.left = `${ballX}px`;
            window.requestAnimationFrame(playGame);
        }
        window.requestAnimationFrame(playGame);

    </script>
</body>

</html>